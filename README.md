# 使用C++实现一个高性能HTTP服务器

本项目目标是设计一个架构良好，高性能的HTTP服务器，核心设计思想如下：
- 采用OOP设计思想，通过良好的结构设计降低模块之间的耦合，资源管理和释放使用RAII
- 充分C++语言的现代特性和基础设施支持，如C++标准库中容器、算法、线程、互斥、条件变量和future的内建支持。
- 采用多进程，IO复用等技术，提高整体性能。

## 单进程静态HTTP服务器
首先需要了解HTTP协议，HTTP请求格式与字段。如表所示

[HTTP字段](https://en.wikipedia.org/wiki/List_of_HTTP_header_fields)

了解HTTP协议，初步完成了HTTP服务器的单进程版（即支持静态请求，单进程，无IO复用的HTTP服务器版）。这一版本主要核心技术点有两个：
1. HTTP 请求解析：需要解析的有请求路径，请求方法等HTTP字段。这一部分的工作虽然不难，但需要一些时间完成各个字段的细致处理。
2. HTTP 响应回复：对于静态请求，主要是判断文件是否存在可读，读取请求的文件，形成符合HTTP协议的响应回复，并设置响应的响应码，如文件不存在设置404.


这一版本，整个工作流程如图所示
![工作流程如图]()


类的功能和设计如下表：


## 多进程静态HTTP服务器
单进程的HTTP服务器缺点很明显，同一时刻只能响应一个HTTP请求，大分部的时间片都耗费在IO上。我们对服务器加入多进程的支持，就能在一定程度上解决这个问题。





## 多进程静态HTTP服务器
距离本项目最终的目标--多进程，<kbd>epoll</kbd>多路IO复用的高性能HTTP服务器，差两个关键的技术点：1.多进程，包含多进程通讯和同步，进程间传送文件描述符